CREATE TABLE CIUDAD (
COD_CIUDAD INT NOT NULL ,
NOMBRE_CIUDAD VARCHAR(30) NOT NULL,
PRIMARY KEY (COD_CIUDAD)
);

CREATE TABLE TIPO_ARTICULO (
COD_TIPO_ARTICULO INT NOT NULL ,
DESCRIPCION_ARTICULO VARCHAR(30) NOT NULL,
PRIMARY KEY (COD_TIPO_ARTICULO)
);

CREATE TABLE TIPO_DE_DOCUMENTO (
COD_TIPO_DOCUMENTO INT NOT NULL ,
DESCRIPCION VARCHAR(10) NOT NULL,
PRIMARY KEY (COD_TIPO_DOCUMENTO)
);

CREATE TABLE FORMA_DE_PAGO (
COD_FORMAPAGO INT NOT NULL ,
DESCRIPCION_FORMAPAGO VARCHAR(20) NOT NULL,
PRIMARY KEY (COD_FORMAPAGO)
);

CREATE TABLE PROVEEDOR (
COD_PROVEEDOR VARCHAR(20) NOT NULL,
COD_TIPO_DOCUMENTO INT NOT NULL,
NOMBRE VARCHAR(20) NOT NULL,
APELLIDO VARCHAR(20) NOT NULL,
NOMBRE_COMERCIAL VARCHAR(20) NOT NULL,
DIRECCION VARCHAR(20) DEFAULT NULL,
COD_CIUDAD INT NOT NULL,
TELEFONO VARCHAR(15) DEFAULT NULL,
PRIMARY KEY (COD_PROVEEDOR),
CONSTRAINT PROVEEDOR_IBFK_1 FOREIGN KEY (COD_TIPO_DOCUMENTO) REFERENCES TIPO_DE_DOCUMENTO (COD_TIPO_DOCUMENTO),
CONSTRAINT REF_PROV_CIUDAD FOREIGN KEY (COD_CIUDAD) REFERENCES CIUDAD (COD_CIUDAD)
);

CREATE TABLE ARTICULO (
COD_ARTICULO INT NOT NULL,
DESCRIPCION VARCHAR(30) NOT NULL,
PRECIO_VENTA INT NOT NULL,
PRECIO_COSTO INT NOT NULL,
STOCK INT NOT NULL,
COD_TIPO_ARTICULO INT NOT NULL,
COD_PROVEEDOR VARCHAR(20) NOT NULL,
FECHA_INGRESO VARCHAR(15) NOT NULL,
PRIMARY KEY (COD_ARTICULO),
CONSTRAINT REF_PROV_ART FOREIGN KEY (COD_PROVEEDOR) REFERENCES PROVEEDOR (COD_PROVEEDOR),
CONSTRAINT REF_TIPO_ARTICULO FOREIGN KEY (COD_TIPO_ARTICULO) REFERENCES TIPO_ARTICULO (COD_TIPO_ARTICULO)
);

CREATE TABLE CLIENTE (
COD_CLIENTE INT NOT NULL,
COD_TIPO_DOCUMENTO INT NOT NULL,
NOMBRES VARCHAR(30) NOT NULL,
APELLIDOS VARCHAR(30) NOT NULL,
DIRECCION VARCHAR(20) DEFAULT NULL,
COD_CIUDAD INT NOT NULL,
TELEFONO VARCHAR(20) DEFAULT NULL,
PRIMARY KEY (COD_CLIENTE),
CONSTRAINT REF_CIUDAD FOREIGN KEY (COD_CIUDAD) REFERENCES CIUDAD (COD_CIUDAD),
CONSTRAINT REF_TIPO_DOC FOREIGN KEY (COD_TIPO_DOCUMENTO) REFERENCES TIPO_DE_DOCUMENTO (COD_TIPO_DOCUMENTO)
);

CREATE TABLE FACTURA (
COD_FACTURA VARCHAR(20) NOT NULL,
COD_CLIENTE INT NOT NULL,
NOMBRE_EMPLEADO VARCHAR(30) NOT NULL,
FECHA_FACTURACION VARCHAR(15) NOT NULL,
COD_FORMAPAGO INT NOT NULL,
TOTAL_FACTURA DECIMAL(10,0) DEFAULT NULL,
IVA DECIMAL(10,0) DEFAULT NULL,
PRIMARY KEY (COD_FACTURA),
CONSTRAINT REF_CLI FOREIGN KEY (COD_CLIENTE) REFERENCES CLIENTE (COD_CLIENTE),
CONSTRAINT REF_FORMAPAGO FOREIGN KEY (COD_FORMAPAGO) REFERENCES FORMA_DE_PAGO (COD_FORMAPAGO)
);


CREATE TABLE DETALLE_FACTURA (
COD_FACTURA VARCHAR(20) NOT NULL,
COD_ARTICULO INT NOT NULL,
CANTIDAD INT NOT NULL,
TOTAL DECIMAL(10,0) NOT NULL,
PRIMARY KEY (COD_FACTURA,COD_ARTICULO),
CONSTRAINT REF_AR_FACT FOREIGN KEY (COD_ARTICULO) REFERENCES ARTICULO (COD_ARTICULO),
CONSTRAINT REF_FACTURACION FOREIGN KEY (COD_FACTURA) REFERENCES FACTURA (COD_FACTURA)
);

CREATE TABLE DEVOLUCION (
COD_FACTURA VARCHAR(20) NOT NULL,
COD_ARTICULO INT NOT NULL,
MOTIVO VARCHAR(15) NOT NULL,
FECHA_DEVOLUCION VARCHAR(10) NOT NULL,
CANTIDAD INT NOT NULL,
PRIMARY KEY (COD_FACTURA)
);


CREATE TABLE USUARIO (
IDUSUARIO INT PRIMARY KEY,
NOMBRE VARCHAR(30),
PASSWORD VARCHAR(30),
TIPOUSUARIO VARCHAR(30)
);